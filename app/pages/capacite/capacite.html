<ion-navbar *navbar primary>
  <button menuToggle>
    <ion-icon name="menu"></ion-icon>
  </button>
  <ion-title>Capacité d'emprunt</ion-title>
</ion-navbar>

<ion-content padding class="capacite">
    <ion-list>
        <ion-item>
            <ion-label floating>
                <ion-icon name="logo-euro"></ion-icon>
  
              Mensualités </ion-label>
             <ion-input type="number" [(ngModel)]="datas.mensualite" #mensualite ><span>Euro</span></ion-input>
        </ion-item>

            <ion-item>
            <ion-label floating>
                <ion-icon name="timer"></ion-icon>
                Durée du prêt (en années){{chiffre}}</ion-label>
            <ion-input [(ngModel)]="datas.duree" #duree (keyup)="onKey('duree', duree.value)" type="number" ></ion-input>
        </ion-item>
        <ion-item>
            <ion-label floating>
                <ion-icon name="trending-up"></ion-icon>
                Taux d'intérêt (%)</ion-label>
            <ion-input [(ngModel)]="datas.interets" #interets (keyup)="onKey('interets', interets.value)" type="number" ></ion-input>
        </ion-item>
        <ion-item>
            <ion-label floating>
                <ion-icon name="home"></ion-icon>
                Taux d'assurance (%)</ion-label>
            <ion-input [(ngModel)]="datas.assurance"  #assurance (keyup)="onKey('assurance', assurance.value)" type="number" min="7" max="36"></ion-input>
        </ion-item>
        <ion-item>
            <ion-label floating>
                <ion-icon name="briefcase"></ion-icon>
                Frais de dossier (€)</ion-label>
            <ion-input [(ngModel)]="datas.frais"  #frais (keyup)="onKey('frais', frais.value)" type="number" min="7" max="36"></ion-input>
        </ion-item>
        <ion-item>
            <ion-label floating>
                <ion-icon name="calculator"></ion-icon>
                Frais de caution (€)</ion-label>
            <ion-input [(ngModel)]="datas.caution"  #caution (keyup)="onKey('caution', caution.value)" type="number" min="7" max="36"></ion-input>
        </ion-item>
   </ion-list>
<h5><b>Capacité d'emprunt :</b></h5>
<p *ngIf="mensualite.value && duree.value && interets.value">
 {{
(
 mensualite.value *
 (1-(math.pow(1+((interets.value/100)/12), duree.value*12))*12)

 /((interets.value/100)/12)
)

 }}
Mens {{mensualite.value}}
interets {{interets.value}}
duree {{duree.value}}
</p>

</ion-content>
